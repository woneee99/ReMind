<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.enjoytrip.api.dao.TripPlanDao">
    <insert id="insertTripPlan" parameterType="com.example.enjoytrip.api.dto.TripPlanDto" useGeneratedKeys="true" keyProperty="planId">
        INSERT INTO plans (userSeq, planTitle, createdAt)
        VALUES (#{userSeq}, #{planTitle}, now())
    </insert>

    <insert id="insertTripPlanSpots" parameterType="com.example.enjoytrip.api.dto.TripPlanSpotDto">
        INSERT INTO trip_spots ( planId, tripDate, spotName, spotId, spotLa, spotMa, spotAddress, spotPhone, departureTime, duration, moveTime, spotOrder)
        VALUES (#{planId}, #{tripDate}, #{spotName}, #{spotId}, #{spotLa}, #{spotMa}, #{spotAddress}, #{spotPhone}, #{departureTime}, #{duration}, #{moveTime}, #{spotOrder})
    </insert>
</mapper>